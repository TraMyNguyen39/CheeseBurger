@page
@model PaymenteModel
@{
	ViewData["Title"] = "Payment";
}

<div class="breadcrumb-division">
	<ol class="breadcrumb breadcrumb__edit">
		<li class="breadcrumb-item"><a asp-page="/Index">Trang chủ</a></li>
		<li class="breadcrumb-item active" aria-current="page">Thanh toán</li>
	</ol>
</div>

<form class="row container payment jtf-center" method="post">
	<div class="col-8 body__payment">
		<div class="receiver">
			<p>Địa chỉ giao hàng</p>
			<div class="list-receiver-item">
				<div class="receiver-item">
					<label>Tên người nhận <span style="color: red">&lowast;</span></label><br>
					<input class="receiver-item-input" type="text" name="Name" required>
				</div>
			</div>
			<div class="list-receiver-item justify-content-between">
				<div class="receiver-item">
					<label>Số điện thoại <span style="color: red">&lowast;</span></label>
					<div id="phone_error" class="error hidden">* Vui lòng nhập đúng số điện thoại</div>
					<input class="receiver-item-input" type="text" id="phone_number" required name="PhoneNumber">
				</div>
			</div>
			<div class="row list-receiver-item d-flex">
				<div class="receiver-item col" style="padding-right: 5px">
					<label>Tỉnh (Thành phố) <span style="color: red">&lowast;</span></label><br>
					<select class="receiver-item-input">
						<option value="Đà Nẵng" selected>Đà Nẵng</option>
					</select>
				</div>
				<div class="receiver-item col" style="padding-left: 5px">
					<label>Quận (Huyện) <span style="color: red">&lowast;</span></label><br>
					<select class="receiver-item-input" name="combobox_Item_District" required="required" id="district">
						@foreach (var i in Model.List_Districts)
						{
							<option value="@i.DistrictID" data-id_district="@i.DistrictID">@i.DistrictName</option>
						}
					</select>
				</div>
			</div>

			<div class="row list-receiver-item d-flex">
				<div class="receiver-item col" style="padding-right: 5px">
					<label>Phường (Xã) <span style="color: red">&lowast;</span></label><br>
					<select class="receiver-item-input" name="WardId" required="required" id="ward">
						@foreach (var i in Model.List_Wards)
						{
							<option value="@i.WardId" data-district="@i.DistrictID">@i.WardName</option>
						}
					</select>
				</div>
				<div class="receiver-item col" style="padding-left: 5px">
					<label>Số nhà <span style="color: red">&lowast;</span></label><br>
					<input class="receiver-item-input" type="text" name="HouseNumber" required>
				</div>
			</div>
			<div class="list-receiver-item">
				<div class="receiver-item note-edit">
					<label>Ghi chú</label><br>
					<input class="receiver-item-input" type="text" name="Note">
				</div>
			</div>
			<button class="home-link home-link__payment" onclick="window.location.href = 'https://localhost:44344/User/Menu';">
				<i class="fa-solid fa-chevron-left"></i>
				Trở về mua sắm
			</button>
		</div>
	</div>

	<div class="d-flex align-items-center payment__book">
		<div class="list-payment">
			<div class="list-payment-item">
				@foreach (var i in Model.carts)
				{
					<div class="payment-item">
						<div class="payment-item-infor">
							<img src="@i.FoodPic" alt="Ảnh món ăn">
							<div class="payment-item-detail">
								<p>@i.Name</p>
								<div>
									<span>@i.Price.ToString("N0")đ</span>
									<span style="opacity: 0.6;">x@(i.Quantity)</span>
								</div>
							</div>
						</div>
					</div>
				}
			</div>
			@{
				var total = 0.0;
				<div class="list-fee-detail">
					@foreach (var i in Model.carts)
					{
						total += i.Quantity * i.Price;
					}
					<div class="fee-detail__item fee-detail-item__payment">
						<span>Tổng tiền hàng</span><span>@total.ToString("N0")đ</span>
					</div>
					<div class="fee-detail__item fee-detail-item__payment">
						<span>Phí vận chuyển</span><span>13,000đ</span>
					</div>
					<div class="fee-detail__item fee-detail-item__payment">
						<span>Thuế</span><span></span>
					</div>
				</div>
				<div class="fee-detail__item total-fee fee-detail-item__payment" style="font-weight: 500;">
					<span>Tổng thanh toán</span><span>@((total + 13000 + total * 3 / 100).ToString("N0"))đ</span>
				</div>
			}
			<button type="submit" class="submit-btn submit-btn__payment">
				Đặt Hàng
				<i class="fa-solid fa-right-long" style="margin-left: 10px; vertical-align: middle;"></i>
			</button>
		</div>
	</div>
</form>
<script src="~/js/payment.js"></script>